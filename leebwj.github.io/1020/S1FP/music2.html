<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Blue Tape - Song Details</title>
  <link rel="stylesheet" href="music2.css" />
  <!-- It's good practice to include the font links on every page that needs them -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Audiowide&display=swap" rel="stylesheet">
</head>
<body>

    <a href="library.html" class="back-button">
        <img src="Assets/Image/Back.png" alt="Go Back">
    </a>

  <div id="paper">
    <div class="tape-assembly">
      <div id="play-button" class="tape-hitbox" title="Click to play/pause"></div>
      <img src="Assets/Image/LeftCircle.png" alt="Left reel" class="tape-circle left-circle" />
      <img src="Assets/Image/RightCircle.png" alt="Right reel" class="tape-circle right-circle" />
      <img src="Assets/Image/Tape2.png" alt="Cassette Tape" class="tape-image-main" />
    </div>

    <div id="player" aria-hidden="true"></div>

    <div class="text-content">
      <h1 class="song-title">Superpowers</h1>
      <h2 class="artist-name">Daniel Caesar</h2>
      <div class="lyrics">
         <p>
          Released April 7, 2023,<br>
          as part of the album *Never Enough*.<br>
          Produced by Dylan Wiggins, Matthew Burnett,<br>
          Jordan Evans, and Caesar himself.<br><br>

          The track is credited to Ashton Simmonds (Daniel Caesar),<br>
          Joel Compass, Dylan Wiggins.<br>
          Mixed by Tom Elmhirst,<br>
          engineered by Riley Bell.<br><br>

          The label credits read: Hollace Inc.<br>
          Released under Republic Records / UMG.<br>
          “Superpowers” showcases Caesar’s blend of<br>
          soft vocal intimacy and refined production.<br>
        </p>
      </div>
    </div>
  </div>

  <!-- YouTube IFrame API -->
  <script src="https://www.youtube.com/iframe_api"></script>
  
  <!-- CORRECTED AND SIMPLIFIED SCRIPT -->
  <script>
    var player;

    // 1. This function runs automatically when the YouTube API is ready.
    function onYouTubeIframeAPIReady() {
      player = new YT.Player('player', {
        height: '1',
        width: '1',
        videoId: 'elkcCDAPcE8', // Video ID for this song
        playerVars: { 'playsinline': 1 },
        events: {
          'onReady': onPlayerReady,
          'onStateChange': onPlayerStateChange
        }
      });
    }

    // 2. This function runs when the player is ready.
    //    It attaches the click listener to the button.
    function onPlayerReady(event) {
      const playButton = document.getElementById('play-button');
      playButton.addEventListener('click', function() {
        togglePlay();
      });
    }

    // 3. This function's only job is to play or pause the video.
    function togglePlay() {
      if (player && typeof player.getPlayerState === 'function') {
        const playerState = player.getPlayerState();
        if (playerState === YT.PlayerState.PLAYING) {
          player.pauseVideo();
        } else {
          player.playVideo();
        }
      }
    }

    // 4. This function handles the spinning animation.
    function onPlayerStateChange(event) {
      const left = document.querySelector('.left-circle');
      const right = document.querySelector('.right-circle');
      if (!left || !right) return;

      if (event.data === YT.PlayerState.PLAYING) {
        left.classList.add('spinning');
        right.classList.add('spinning');
      } else {
        left.classList.remove('spinning');
        right.classList.remove('spinning');
      }
    }
  </script>
</body>
</html>