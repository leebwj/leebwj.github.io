<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Blue Tape - Song Details</title>

  <link rel="stylesheet" href="music1.css" />

  <!-- Make sure the hitbox really receives clicks -->
  <style>
    .tape-assembly { position: fixed; left: 30%; top: 50%; transform: translate(-50%, -50%); width: 40%; aspect-ratio: 800/500; z-index: 0; }
    .tape-image-main { position: absolute; inset: 0; width: 100%; height: 100%; z-index: 1; pointer-events: none; }
    .tape-circle { position: absolute; width: 6%; height: auto; z-index: 2; pointer-events: none; transform-origin: 50% 50%; will-change: transform; }
    .left-circle  { top: 41.4%; left: 35.6%; }
    .right-circle { top: 41.4%; left: 58.3%; }

    /* Clickable area over the cassette window */
    .tape-hitbox#play-button {
      position: absolute;
      top: 23%;
      left: 22%;
      width: 55.5%;
      height: 52.5%;
      cursor: pointer;
      z-index: 1000;
      background: transparent;
      border-radius: 12px;
    }
  </style>
</head>
<body>

  <a href="library.html" class="back-button">
    <img src="Assets/Image/Back.png" alt="Go Back">
  </a>

  <div id="paper">
    <div class="tape-assembly">
      <!-- Click target: opens YouTube in the same tab -->
      <div id="play-button"
           class="tape-hitbox"
           title="Open on YouTube"
           role="button"
           tabindex="0"
           aria-label="Open this song on YouTube"></div>

      <img src="Assets/Image/LeftCircle.png"  alt="Left reel"  class="tape-circle left-circle" />
      <img src="Assets/Image/RightCircle.png" alt="Right reel" class="tape-circle right-circle" />
      <img src="Assets/Image/Tape1.png"      alt="Cassette Tape" class="tape-image-main" />
    </div>

    <div class="text-content">
      <h1 class="song-title">Kiss Me Right</h1>
      <h2 class="artist-name">keshi</h2>
      <div class="lyrics">
        <p>
          Released Sept 20, 2024,<br>
          as a bonus track on <em>Requiem</em> (extended).<br>
          Built on electric guitar and lo-fi textures,<br>
          its mood is hushed and intimate.<br><br>
          Produced by Madeon,<br>
          co-written with Hugo Leclercq and keshi.<br>
          The mix and master were handled<br>
          by George Seara and Chris Gehringer.<br><br>
          Issued under Island Records,<br>
          with global distribution through Universal.<br>
          It highlights keshiâ€™s evolving sound,<br>
          blending bedroom pop and R&amp;B tones.
        </p>
      </div>
    </div>
  </div>

  <!-- Youtube API for this song does not work. Open on new tab -->
    <script>
      const WATCH_URL = 'https://www.youtube.com/watch?v=i9DHduXUHqI&list=RDi9DHduXUHqI&start_radio=1';

      const btn   = document.getElementById('play-button');
      const left  = document.querySelector('.left-circle');
      const right = document.querySelector('.right-circle');

      function startSpinForever() {
        left.classList.add('spinning');  left.classList.remove('paused');
        right.classList.add('spinning'); right.classList.remove('paused');
      }

      function openInNewTab() {
        window.open(WATCH_URL, '_blank', 'noopener,noreferrer');
      }

      function handleActivate() {
        startSpinForever();   
        openInNewTab();       
      }
      btn.addEventListener('click', handleActivate);
    </script>
  </body>
</html>
