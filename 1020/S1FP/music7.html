<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="music7.css" />

</head>
<body>

  <a href="library.html" class="back-button">
    <img src="Assets/Image/Back.png" alt="Go Back">
  </a>

  <div id="paper">
    <div class="tape-assembly">
      <div id="play-button"
           class="tape-hitbox"
           title="Open on YouTube"
           role="button"
           tabindex="0"
           aria-label="Open this song on YouTube"></div>

      <img src="Assets/Image/LeftCircle.png"  alt="Left reel"  class="tape-circle left-circle" />
      <img src="Assets/Image/RightCircle.png" alt="Right reel" class="tape-circle right-circle" />
      <img src="Assets/Image/Tape7.png"      alt="Cassette Tape" class="tape-image-main" />
    </div>

    <div class="text-content">
      <h1 class="song-title">Painkiller</h1>
      <h2 class="artist-name">Ruel</h2>
      <div class="lyrics">
         <p>
            Released May 1, 2019,<br>
            as the lead single from his EP *Free Time*.<br>
            Written by Ruel, Sarah Aarons, and Hiren Mor,<br>
            produced by M-Phazes.<br><br>

            A remix featuring Denzel Curry followed in 2020,<br>
            and the song placed 3rd at the 2020 Vanda & Young<br>
            Global Songwriting Competition.<br><br>

            The track is pop / R&B in style,<br>
            and the official video was published on May 1, 2019.<br>
            Released under RCA / Sony Australia.<br> <br>

            The version in this website is a <br>
            Mr. Carmack Remix version
          </p>
      </div>
    </div>
  </div>

  <!-- Youtube API for this song does not work. Open on new tab -->
    <script>
      const WATCH_URL = 'https://www.youtube.com/watch?v=nvzgXbCH-KU&list=RDnvzgXbCH-KU&start_radio=1';

      const btn   = document.getElementById('play-button');
      const left  = document.querySelector('.left-circle');
      const right = document.querySelector('.right-circle');

      function startSpinForever() {
        left.classList.add('spinning');  left.classList.remove('paused');
        right.classList.add('spinning'); right.classList.remove('paused');
      }

      function openInNewTab() {
        window.open(WATCH_URL, '_blank', 'noopener,noreferrer');
      }

      function handleActivate() {
        startSpinForever();   
        openInNewTab();       
      }
      btn.addEventListener('click', handleActivate);
    </script>
  </body>
</html>
